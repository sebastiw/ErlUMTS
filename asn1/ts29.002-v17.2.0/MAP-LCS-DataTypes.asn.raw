MAP-LCS-DataTypes {1 itu-t identified-organization (4) etsi (0) mobileDomain (0)2 gsm-Network (1) modules (3) map-LCS-DataTypes (25) version20 (20)}3
4 DEFINITIONS5 IMPLICIT TAGS6 ::=7 BEGIN8
9 EXPORTS10 RoutingInfoForLCS-Arg,11 RoutingInfoForLCS-Res,12 ProvideSubscriberLocation-Arg,13 ProvideSubscriberLocation-Res,14 SubscriberLocationReport-Arg,15 SubscriberLocationReport-Res,16 LocationType,17 DeferredLocationEventType,18 LCSClientName,19 LCS-QoS,20 Horizontal-Accuracy,21 ResponseTime,22 Ext-GeographicalInformation,23 VelocityEstimate,24 SupportedGADShapes,25 Add-GeographicalInformation,26 LCSRequestorID,27 LCS-ReferenceNumber,28 LCSCodeword,29 AreaEventInfo,30 ReportingPLMNList,31 PeriodicLDRInfo,32 SequenceNumber,33 LCSClientType,34 LCS-Priority,35 OccurrenceInfo,36 IntervalTime37 ;38
39 IMPORTS40 AddressString,41 ISDN-AddressString,42 IMEI,43 IMSI,44 LMSI,45 SubscriberIdentity,46 AgeOfLocationInformation,47 LCSClientExternalID,48 LCSClientInternalID,49 LCSServiceTypeID,50 CellGlobalIdOrServiceAreaIdOrLAI,51 PLMN-Id,52 GSN-Address,53 DiameterIdentity54
FROM MAP-CommonDataTypes {55 itu-t identified-organization (4) etsi (0) mobileDomain (0)56 gsm-Network (1) modules (3) map-CommonDataTypes (18) version20 (20)}57
58 ExtensionContainer,59 SLR-ArgExtensionContainer60 FROM MAP-ExtensionDataTypes {61 itu-t identified-organization (4) etsi (0) mobileDomain (0)62 gsm-Network (1) modules (3) map-ExtensionDataTypes (21) version20 (20)}63
64 USSD-DataCodingScheme,65 USSD-String66 FROM MAP-SS-DataTypes {67 itu-t identified-organization (4) etsi (0) mobileDomain (0) gsm-Network (1) modules (3)68 map-SS-DataTypes (14) version20 (20)}69
70 APN,71 SupportedLCS-CapabilitySets72 FROM MAP-MS-DataTypes {73 itu-t identified-organization (4) etsi (0) mobileDomain (0)74 gsm-Network (1) modules (3) map-MS-DataTypes (11) version20 (20)}75
76 Additional-Number77 FROM MAP-SM-DataTypes {78 itu-t identified-organization (4) etsi (0) mobileDomain (0)79 gsm-Network (1) modules (3) map-SM-DataTypes (16) version20 (20)}80 ;81
82
83 RoutingInfoForLCS-Arg ::= SEQUENCE {84 mlcNumber [0] ISDN-AddressString,85 targetMS [1] SubscriberIdentity,86 extensionContainer [2] ExtensionContainer OPTIONAL,87 ...}88
89 RoutingInfoForLCS-Res ::= SEQUENCE {90 targetMS [0] SubscriberIdentity,91 lcsLocationInfo [1] LCSLocationInfo,92 extensionContainer [2] ExtensionContainer OPTIONAL,93 ...,94 v-gmlc-Address [3] GSN-Address OPTIONAL,95 h-gmlc-Address [4] GSN-Address OPTIONAL,96 ppr-Address [5] GSN-Address OPTIONAL,97 additional-v-gmlc-Address [6] GSN-Address OPTIONAL }98
99 LCSLocationInfo ::= SEQUENCE {100 networkNode-Number ISDN-AddressString,101 -- NetworkNode-number can be msc-number, sgsn-number or a dummy value of "0"102 lmsi [0] LMSI OPTIONAL,103 extensionContainer [1] ExtensionContainer OPTIONAL,104 ... ,105 gprsNodeIndicator [2] NULL OPTIONAL,106 -- gprsNodeIndicator is set only if the SGSN number is sent as the Network Node Number107 additional-Number [3] Additional-Number OPTIONAL,108 supportedLCS-CapabilitySets [4] SupportedLCS-CapabilitySets OPTIONAL,109 additional-LCS-CapabilitySets [5] SupportedLCS-CapabilitySets OPTIONAL,110 mme-Name [6] DiameterIdentity OPTIONAL,111 aaa-Server-Name [8] DiameterIdentity OPTIONAL,112 sgsn-Name [9] DiameterIdentity OPTIONAL,113 sgsn-Realm [10] DiameterIdentity OPTIONAL114 }115
116
ProvideSubscriberLocation-Arg ::= SEQUENCE {117 locationType LocationType,118 mlc-Number ISDN-AddressString,119 lcs-ClientID [0] LCS-ClientID OPTIONAL,120 privacyOverride [1] NULL OPTIONAL,121 imsi [2] IMSI OPTIONAL,122 msisdn [3] ISDN-AddressString OPTIONAL,123 lmsi [4] LMSI OPTIONAL,124 imei [5] IMEI OPTIONAL,125 lcs-Priority [6] LCS-Priority OPTIONAL,126 lcs-QoS [7] LCS-QoS OPTIONAL,127 extensionContainer [8] ExtensionContainer OPTIONAL,128 ... ,129 supportedGADShapes [9] SupportedGADShapes OPTIONAL,130 lcs-ReferenceNumber [10] LCS-ReferenceNumber OPTIONAL,131 lcsServiceTypeID [11] LCSServiceTypeID OPTIONAL,132 lcsCodeword [12] LCSCodeword OPTIONAL,133 lcs-PrivacyCheck [13] LCS-PrivacyCheck OPTIONAL,134 areaEventInfo [14] AreaEventInfo OPTIONAL,135 h-gmlc-Address [15] GSN-Address OPTIONAL,136 mo-lrShortCircuitIndicator [16] NULL OPTIONAL,137 periodicLDRInfo [17] PeriodicLDRInfo OPTIONAL,138 reportingPLMNList [18] ReportingPLMNList OPTIONAL }139
140 -- one of imsi or msisdn is mandatory141 -- If a location estimate type indicates activate deferred location or cancel deferred142 -- location, a lcs-Reference number shall be included.143
144 LocationType ::= SEQUENCE {145 locationEstimateType [0] LocationEstimateType,146 ...,147 deferredLocationEventType [1] DeferredLocationEventType OPTIONAL }148
149 LocationEstimateType ::= ENUMERATED {150 currentLocation (0),151 currentOrLastKnownLocation (1),152 initialLocation (2),153 ...,154 activateDeferredLocation (3),155 cancelDeferredLocation (4) ,156 notificationVerificationOnly (5) }157 -- exception handling:158 -- a ProvideSubscriberLocation-Arg containing an unrecognized LocationEstimateType159 -- shall be rejected by the receiver with a return error cause of unexpected data value160
161 DeferredLocationEventType ::= BIT STRING {162 msAvailable (0) ,163 enteringIntoArea (1),164 leavingFromArea (2),165 beingInsideArea (3) ,166 periodicLDR (4) } (SIZE (1..16))167 -- beingInsideArea is always treated as oneTimeEvent regardless of the possible value168 -- of occurrenceInfo inside areaEventInfo.169 -- exception handling:170 -- a ProvideSubscriberLocation-Arg containing other values than listed above in171 -- DeferredLocationEventType shall be rejected by the receiver with a return error cause of172 -- unexpected data value.173
174 LCS-ClientID ::= SEQUENCE {175 lcsClientType [0] LCSClientType,176 lcsClientExternalID [1] LCSClientExternalID OPTIONAL,177 lcsClientDialedByMS [2] AddressString OPTIONAL,178 lcsClientInternalID [3] LCSClientInternalID OPTIONAL,179 lcsClientName [4] LCSClientName OPTIONAL,180 ...,181 lcsAPN [5] APN OPTIONAL,182 lcsRequestorID [6] LCSRequestorID OPTIONAL }183
184
LCSClientType ::= ENUMERATED {185 emergencyServices (0),186 valueAddedServices (1),187 plmnOperatorServices (2),188 lawfulInterceptServices (3),189 ... }190 -- exception handling:191 -- unrecognized values may be ignored if the LCS client uses the privacy override192 -- otherwise, an unrecognized value shall be treated as unexpected data by a receiver193 -- a return error shall then be returned if received in a MAP invoke194
195 LCSClientName ::= SEQUENCE {196 dataCodingScheme [0] USSD-DataCodingScheme,197 nameString [2] NameString,198 ...,199 lcs-FormatIndicator [3] LCS-FormatIndicator OPTIONAL }200
201 -- The USSD-DataCodingScheme shall indicate use of the default alphabet through the202 -- following encoding203 -- bit 7 6 5 4 3 2 1 0204 -- 0 0 0 0 1 1 1 1205
206 NameString ::= USSD-String (SIZE (1..maxNameStringLength))207
208 maxNameStringLength INTEGER ::= 63209
210 LCSRequestorID ::= SEQUENCE {211 dataCodingScheme [0] USSD-DataCodingScheme,212 requestorIDString [1] RequestorIDString,213 ...,214 lcs-FormatIndicator [2] LCS-FormatIndicator OPTIONAL }215
216 RequestorIDString ::= USSD-String (SIZE (1..maxRequestorIDStringLength))217
218 maxRequestorIDStringLength INTEGER ::= 63219
220 LCS-FormatIndicator ::= ENUMERATED {221 logicalName (0),222 e-mailAddress (1),223 msisdn (2),224 url (3),225 sipUrl (4),226 ... }227
228 LCS-Priority ::= OCTET STRING (SIZE (1))229 -- 0 = highest priority230 -- 1 = normal priority231 -- all other values treated as 1232
233 LCS-QoS ::= SEQUENCE {234 horizontal-accuracy [0] Horizontal-Accuracy OPTIONAL,235 verticalCoordinateRequest [1] NULL OPTIONAL,236 vertical-accuracy [2] Vertical-Accuracy OPTIONAL,237 responseTime [3] ResponseTime OPTIONAL,238 extensionContainer [4] ExtensionContainer OPTIONAL,239 ...,240 velocityRequest [5] NULL OPTIONAL241 }242
243 Horizontal-Accuracy ::= OCTET STRING (SIZE (1))244 -- bit 8 = 0245 -- bits 7-1 = 7 bit Uncertainty Code defined in 3GPP TS 23.032. The horizontal location246 -- error should be less than the error indicated by the uncertainty code with 67%247 -- confidence.248
249 Vertical-Accuracy ::= OCTET STRING (SIZE (1))250 -- bit 8 = 0251 -- bits 7-1 = 7 bit Vertical Uncertainty Code defined in 3GPP TS 23.032.252 -- The vertical location error should be less than the error indicated253 -- by the uncertainty code with 67% confidence.254
255 ResponseTime ::= SEQUENCE {256 responseTimeCategory ResponseTimeCategory,257 ...}258 -- note: an expandable SEQUENCE simplifies later addition of a numeric response time.259
260
ResponseTimeCategory ::= ENUMERATED {261 lowdelay (0),262 delaytolerant (1),263 ... }264 -- exception handling:265 -- an unrecognized value shall be treated the same as value 1 (delaytolerant)266
267 SupportedGADShapes ::= BIT STRING {268 ellipsoidPoint (0),269 ellipsoidPointWithUncertaintyCircle (1),270 ellipsoidPointWithUncertaintyEllipse (2),271 polygon (3),272 ellipsoidPointWithAltitude (4),273 ellipsoidPointWithAltitudeAndUncertaintyElipsoid (5),274 ellipsoidArc (6) } (SIZE (7..16))275 -- A node shall mark in the BIT STRING all Shapes defined in 3GPP TS 23.032 it supports.276 -- exception handling: bits 7 to 15 shall be ignored if received.277
278 LCS-ReferenceNumber::= OCTET STRING (SIZE(1))279
280 LCSCodeword ::= SEQUENCE {281 dataCodingScheme [0] USSD-DataCodingScheme,282 lcsCodewordString [1] LCSCodewordString,283 ...}284
285 LCSCodewordString ::= USSD-String (SIZE (1..maxLCSCodewordStringLength))286
287 maxLCSCodewordStringLength INTEGER ::= 20288
289 LCS-PrivacyCheck ::= SEQUENCE {290 callSessionUnrelated [0] PrivacyCheckRelatedAction,291 callSessionRelated [1] PrivacyCheckRelatedAction OPTIONAL,292 ...}293
294 PrivacyCheckRelatedAction ::= ENUMERATED {295 allowedWithoutNotification (0),296 allowedWithNotification (1),297 allowedIfNoResponse (2),298 restrictedIfNoResponse (3),299 notAllowed (4),300 ...}301 -- exception handling:302 -- a ProvideSubscriberLocation-Arg containing an unrecognized PrivacyCheckRelatedAction303 -- shall be rejected by the receiver with a return error cause of unexpected data value304
305 AreaEventInfo ::= SEQUENCE {306 areaDefinition [0] AreaDefinition,307 occurrenceInfo [1] OccurrenceInfo OPTIONAL,308 intervalTime [2] IntervalTime OPTIONAL,309 ...}310
311 AreaDefinition ::= SEQUENCE {312 areaList [0] AreaList,313 ...}314
315 AreaList ::= SEQUENCE SIZE (1..maxNumOfAreas) OF Area316
317 maxNumOfAreas INTEGER ::= 10318
319 Area ::= SEQUENCE {320 areaType [0] AreaType,321 areaIdentification [1] AreaIdentification,322 ...}323
324 AreaType ::= ENUMERATED {325 countryCode (0),326 plmnId (1),327 locationAreaId (2),328 routingAreaId (3),329 cellGlobalId (4),330 ...,331 utranCellId (5) }332
333
AreaIdentification ::= OCTET STRING (SIZE (2..7))334 -- The internal structure is defined as follows:335 -- octet 1 bits 4321 Mobile Country Code 1st digit336 -- bits 8765 Mobile Country Code 2nd digit337 -- octet 2 bits 4321 Mobile Country Code 3rd digit338 -- bits 8765 Mobile Network Code 3rd digit if 3 digit MNC included339 -- or filler (1111)340 -- octet 3 bits 4321 Mobile Network Code 1st digit341 -- bits 8765 Mobile Network Code 2nd digit342 -- octets 4 and 5 Location Area Code (LAC) for Local Area Id,343 -- Routing Area Id and Cell Global Id344 -- octet 6 Routing Area Code (RAC) for Routing Area Id345 -- octets 6 and 7 Cell Identity (CI) for Cell Global Id346 -- octets 4 until 7 Utran Cell Identity (UC-Id) for Utran Cell Id347
348 OccurrenceInfo ::= ENUMERATED {349 oneTimeEvent (0),350 multipleTimeEvent (1),351 ...}352
353 IntervalTime ::= INTEGER (1..32767)354 -- minimum interval time between area reports in seconds355
356
PeriodicLDRInfo ::= SEQUENCE {357 reportingAmount ReportingAmount,358 reportingInterval ReportingInterval,359 ...}360 -- reportingInterval x reportingAmount shall not exceed 8639999 (99 days, 23 hours,361 -- 59 minutes and 59 seconds) for compatibility with OMA MLP and RLP362
363
ReportingAmount ::= INTEGER (1..maxReportingAmount)364
365
maxReportingAmount INTEGER ::= 8639999366
367
ReportingInterval ::= INTEGER (1..maxReportingInterval)368 -- ReportingInterval is in seconds369
370
maxReportingInterval INTEGER ::= 8639999371
372
ReportingPLMNList::= SEQUENCE {373 plmn-ListPrioritized [0] NULL OPTIONAL,374 plmn-List [1] PLMNList,375 ...}376
377
PLMNList::= SEQUENCE SIZE (1..maxNumOfReportingPLMN) OF378 ReportingPLMN379
380
maxNumOfReportingPLMN INTEGER ::= 20381
382 ReportingPLMN::= SEQUENCE {383 plmn-Id [0] PLMN-Id,384 ran-Technology [1] RAN-Technology OPTIONAL,385 ran-PeriodicLocationSupport [2] NULL OPTIONAL,386 ...}387
388
RAN-Technology ::= ENUMERATED {389 gsm (0),390 umts (1),391 ...}392
393
ProvideSubscriberLocation-Res ::= SEQUENCE {394 locationEstimate Ext-GeographicalInformation,395 ageOfLocationEstimate [0] AgeOfLocationInformation OPTIONAL,396 extensionContainer [1] ExtensionContainer OPTIONAL,397 ... ,398 add-LocationEstimate [2] Add-GeographicalInformation OPTIONAL,399 deferredmt-lrResponseIndicator [3] NULL OPTIONAL,400 geranPositioningData [4] PositioningDataInformation OPTIONAL,401 utranPositioningData [5] UtranPositioningDataInfo OPTIONAL,402 cellIdOrSai [6] CellGlobalIdOrServiceAreaIdOrLAI OPTIONAL,403 sai-Present [7] NULL OPTIONAL,404 accuracyFulfilmentIndicator [8] AccuracyFulfilmentIndicator OPTIONAL,405 velocityEstimate [9] VelocityEstimate OPTIONAL,406 mo-lrShortCircuitIndicator [10] NULL OPTIONAL,407 geranGANSSpositioningData [11] GeranGANSSpositioningData OPTIONAL,408 utranGANSSpositioningData [12] UtranGANSSpositioningData OPTIONAL,409 targetServingNodeForHandover [13] ServingNodeAddress OPTIONAL,410 utranAdditionalPositioningData [14] UtranAdditionalPositioningData OPTIONAL,411 utranBaroPressureMeas [15] UtranBaroPressureMeas OPTIONAL,412 utranCivicAddress [16] UtranCivicAddress OPTIONAL }413
414 -- if deferredmt-lrResponseIndicator is set, locationEstimate is ignored.415
416 -- the add-LocationEstimate parameter shall not be sent to a node that did not indicate the417 -- geographic shapes supported in the ProvideSubscriberLocation-Arg418 -- The locationEstimate and the add-locationEstimate parameters shall not be sent if419 -- the supportedGADShapes parameter has been received in ProvideSubscriberLocation-Arg420 -- and the shape encoded in locationEstimate or add-LocationEstimate is not marked421 -- as supported in supportedGADShapes. In such a case ProvideSubscriberLocation422 -- shall be rejected with error FacilityNotSupported with additional indication423 -- shapeOfLocationEstimateNotSupported.424 -- sai-Present indicates that the cellIdOrSai parameter contains a Service Area Identity.425
426 AccuracyFulfilmentIndicator ::= ENUMERATED {427 requestedAccuracyFulfilled (0),428 requestedAccuracyNotFulfilled (1),429 ... }430
431
Ext-GeographicalInformation ::= OCTET STRING (SIZE (1..maxExt-GeographicalInformation))432 -- Refers to geographical Information defined in 3GPP TS 23.032.433 -- This is composed of 1 or more octets with an internal structure according to434 -- 3GPP TS 23.032435 -- Octet 1: Type of shape, only the following shapes in 3GPP TS 23.032 are allowed:436 -- (a) Ellipsoid point with uncertainty circle437 -- (b) Ellipsoid point with uncertainty ellipse438 -- (c) Ellipsoid point with altitude and uncertainty ellipsoid439 -- (d) Ellipsoid Arc440 -- (e) Ellipsoid Point441 -- Any other value in octet 1 shall be treated as invalid442 -- Octets 2 to 8 for case (a) – Ellipsoid point with uncertainty circle443 -- Degrees of Latitude 3 octets444 -- Degrees of Longitude 3 octets445 -- Uncertainty code 1 octet446 -- Octets 2 to 11 for case (b) – Ellipsoid point with uncertainty ellipse:447 -- Degrees of Latitude 3 octets448 -- Degrees of Longitude 3 octets449 -- Uncertainty semi-major axis 1 octet450 -- Uncertainty semi-minor axis 1 octet451 -- Angle of major axis 1 octet452 -- Confidence 1 octet453 -- Octets 2 to 14 for case (c) – Ellipsoid point with altitude and uncertainty ellipsoid454 -- Degrees of Latitude 3 octets455 -- Degrees of Longitude 3 octets456 -- Altitude 2 octets457 -- Uncertainty semi-major axis 1 octet458 -- Uncertainty semi-minor axis 1 octet459 -- Angle of major axis 1 octet460 -- Uncertainty altitude 1 octet461 -- Confidence 1 octet462 -- Octets 2 to 13 for case (d) – Ellipsoid Arc463 -- Degrees of Latitude 3 octets464 -- Degrees of Longitude 3 octets465 -- Inner radius 2 octets466 -- Uncertainty radius 1 octet467 -- Offset angle 1 octet468 -- Included angle 1 octet469 -- Confidence 1 octet470 -- Octets 2 to 7 for case (e) – Ellipsoid Point471 -- Degrees of Latitude 3 octets472 -- Degrees of Longitude 3 octets473
474 --475 -- An Ext-GeographicalInformation parameter comprising more than one octet and476 -- containing any other shape or an incorrect number of octets or coding according477 -- to 3GPP TS 23.032 shall be treated as invalid data by a receiver.478 --479 -- An Ext-GeographicalInformation parameter comprising one octet shall be discarded480 -- by the receiver if an Add-GeographicalInformation parameter is received481 -- in the same message.482 --483 -- An Ext-GeographicalInformation parameter comprising one octet shall be treated as484 -- invalid data by the receiver if an Add-GeographicalInformation parameter is not485 -- received in the same message.486
487 maxExt-GeographicalInformation INTEGER ::= 20488 -- the maximum length allows for further shapes in 3GPP TS 23.032 to be included in later489 -- versions of 3GPP TS 29.002490
491
VelocityEstimate ::= OCTET STRING (SIZE (4..7))492 -- Refers to Velocity description defined in 3GPP TS 23.032.493 -- This is composed of 4 or more octets with an internal structure according to494 -- 3GPP TS 23.032495 -- Octet 1: Type of velocity, only the following types in 3GPP TS 23.032 are allowed:496 -- (a) Horizontal Velocity497 -- (b) Horizontal with Vertical Velocity498 -- (c) Horizontal Velocity with Uncertainty499 -- (d) Horizontal with Vertical Velocity and Uncertainty500 -- For types Horizontal with Vertical Velocity and Horizontal with Vertical Velocity501 -- and Uncertainty, the direction of the Vertical Speed is also included in Octet 1502 -- Any other value in octet 1 shall be treated as invalid503 -- Octets 2 to 4 for case (a) Horizontal velocity:504 -- Bearing 1 octet505 -- Horizontal Speed 2 octets506 -- Octets 2 to 5 for case (b) – Horizontal with Vertical Velocity:507 -- Bearing 1 octet508 -- Horizontal Speed 2 octets509 -- Vertical Speed 1 octet510 -- Octets 2 to 5 for case (c) – Horizontal velocity with Uncertainty:511 -- Bearing 1 octet512 -- Horizontal Speed 2 octets513 -- Uncertainty Speed 1 octet514 -- Octets 2 to 7 for case (d) – Horizontal with Vertical Velocity and Uncertainty:515 -- Bearing 1 octet516 -- Horizontal Speed 2 octets517 -- Vertical Speed 1 octet518 -- Horizontal Uncertainty Speed 1 octet519 -- Vertical Uncertainty Speed 1 octet520
521 PositioningDataInformation ::= OCTET STRING (SIZE (2..maxPositioningDataInformation))522 -- Refers to the Positioning Data defined in 3GPP TS 49.031.523 -- This is composed of 2 or more octets with an internal structure according to524 -- 3GPP TS 49.031.525
526 maxPositioningDataInformation INTEGER ::= 10527 --528
529 UtranPositioningDataInfo ::= OCTET STRING (SIZE (3..maxUtranPositioningDataInfo))530 -- Refers to the Position Data defined in 3GPP TS 25.413.531 -- This is composed of the positioningDataDiscriminator and the positioningDataSet532 -- included in positionData as defined in 3GPP TS 25.413.533
534 maxUtranPositioningDataInfo INTEGER ::= 11535 --536
537 GeranGANSSpositioningData ::= OCTET STRING (SIZE (2..maxGeranGANSSpositioningData))538 -- Refers to the GANSS Positioning Data defined in 3GPP TS 49.031.539 -- This is composed of 2 or more octets with an internal structure according to540 -- 3GPP TS 49.031.541
542 maxGeranGANSSpositioningData INTEGER ::= 10543 --544
545 UtranGANSSpositioningData ::= OCTET STRING (SIZE (1..maxUtranGANSSpositioningData))546 -- Refers to the Position Data defined in 3GPP TS 25.413.547 -- This is composed of the GANSS-PositioningDataSet only, included in PositionData548 -- as defined in 3GPP TS 25.413.549
550 maxUtranGANSSpositioningData INTEGER ::= 9551 --552
553 UtranAdditionalPositioningData ::= OCTET STRING (SIZE (1..maxUtranAdditionalPositioningData))554 -- Refers to the Position Data defined in 3GPP TS 25.413.555 -- This is composed of the Additional-PositioningDataSet only, included in PositionData556 -- as defined in 3GPP TS 25.413.557
558 maxUtranAdditionalPositioningData INTEGER ::= 8559 --560
561 UtranBaroPressureMeas ::= INTEGER (30000..115000)562 -- Refers to the barometric pressure measurement defined in 3GPP TS 25.413.563 -- This is composed of the BarometricPressureMeasurement only as defined in 3GPP TS564 -- 25.413.565
566
UtranCivicAddress ::= OCTET STRING567 -- Refers to the civic address defined in 3GPP TS 25.413.568 -- This is composed of the CivicAddress only as defined in 3GPP TS 25.413.569
570 Add-GeographicalInformation ::= OCTET STRING (SIZE (1..maxAdd-GeographicalInformation))571 -- Refers to geographical Information defined in 3GPP TS 23.032.572 -- This is composed of 1 or more octets with an internal structure according to573 -- 3GPP TS 23.032574 -- Octet 1: Type of shape, all the shapes defined in 3GPP TS 23.032 are allowed:575 -- Octets 2 to n (where n is the total number of octets necessary to encode the shape576 -- according to 3GPP TS 23.032) are used to encode the shape itself in accordance with577 the578 -- encoding defined in 3GPP TS 23.032579 --580 -- An Add-GeographicalInformation parameter, whether valid or invalid, received581 -- together with a valid Ext-GeographicalInformation parameter in the same message582 -- shall be discarded.583 --584 -- An Add-GeographicalInformation parameter containing any shape not defined in585 -- 3GPP TS 23.032 or an incorrect number of octets or coding according to586 -- 3GPP TS 23.032 shall be treated as invalid data by a receiver if not received587 -- together with a valid Ext-GeographicalInformation parameter in the same message.588
589 maxAdd-GeographicalInformation INTEGER ::= 91590 -- the maximum length allows support for all the shapes currently defined in 3GPP TS591 23.032592
593 SubscriberLocationReport-Arg ::= SEQUENCE {594 lcs-Event LCS-Event,595 lcs-ClientID LCS-ClientID,596 lcsLocationInfo LCSLocationInfo,597 msisdn [0] ISDN-AddressString OPTIONAL,598 imsi [1] IMSI OPTIONAL,599 imei [2] IMEI OPTIONAL,600 na-ESRD [3] ISDN-AddressString OPTIONAL,601 na-ESRK [4] ISDN-AddressString OPTIONAL,602 locationEstimate [5] Ext-GeographicalInformation OPTIONAL,603 ageOfLocationEstimate [6] AgeOfLocationInformation OPTIONAL,604 slr-ArgExtensionContainer [7] SLR-ArgExtensionContainer OPTIONAL,605 ... ,606 add-LocationEstimate [8] Add-GeographicalInformation OPTIONAL,607 deferredmt-lrData [9] Deferredmt-lrData OPTIONAL,608 lcs-ReferenceNumber [10] LCS-ReferenceNumber OPTIONAL,609 geranPositioningData [11] PositioningDataInformation OPTIONAL,610 utranPositioningData [12] UtranPositioningDataInfo OPTIONAL,611 cellIdOrSai [13] CellGlobalIdOrServiceAreaIdOrLAI OPTIONAL,612 h-gmlc-Address [14] GSN-Address OPTIONAL,613 lcsServiceTypeID [15] LCSServiceTypeID OPTIONAL,614 sai-Present [17] NULL OPTIONAL,615 pseudonymIndicator [18] NULL OPTIONAL,616 accuracyFulfilmentIndicator [19] AccuracyFulfilmentIndicator OPTIONAL,617 velocityEstimate [20] VelocityEstimate OPTIONAL,618 sequenceNumber [21] SequenceNumber OPTIONAL,619 periodicLDRInfo [22] PeriodicLDRInfo OPTIONAL,620 mo-lrShortCircuitIndicator [23] NULL OPTIONAL,621 geranGANSSpositioningData [24] GeranGANSSpositioningData OPTIONAL,622 utranGANSSpositioningData [25] UtranGANSSpositioningData OPTIONAL,623 targetServingNodeForHandover [26] ServingNodeAddress OPTIONAL,624 utranAdditionalPositioningData [27] UtranAdditionalPositioningData OPTIONAL,625 utranBaroPressureMeas [28] UtranBaroPressureMeas OPTIONAL,626 utranCivicAddress [29] UtranCivicAddress OPTIONAL }627
628 -- one of msisdn or imsi is mandatory629 -- a location estimate that is valid for the locationEstimate parameter should630 -- be transferred in this parameter in preference to the add-LocationEstimate.631 -- the deferredmt-lrData parameter shall be included if and only if the lcs-Event632 -- indicates a deferredmt-lrResponse.633 -- if the lcs-Event indicates a deferredmt-lrResponse then the locationEstimate634 -- and the add-locationEstimate parameters shall not be sent if the635 -- supportedGADShapes parameter had been received in ProvideSubscriberLocation-Arg636 -- and the shape encoded in locationEstimate or add-LocationEstimate was not marked637 -- as supported in supportedGADShapes. In such a case terminationCause638 -- in deferredmt-lrData shall be present with value639 -- shapeOfLocationEstimateNotSupported.640 -- If a lcs event indicates deferred mt-lr response, the lcs-Reference number shall be641 -- included.642 -- sai-Present indicates that the cellIdOrSai parameter contains a Service Area Identity.643
644
Deferredmt-lrData ::= SEQUENCE {645 deferredLocationEventType DeferredLocationEventType,646 terminationCause [0] TerminationCause OPTIONAL,647 lcsLocationInfo [1] LCSLocationInfo OPTIONAL,648 ...}649 -- lcsLocationInfo may be included only if a terminationCause is present650 -- indicating mt-lrRestart.651
652 LCS-Event ::= ENUMERATED {653 emergencyCallOrigination (0),654 emergencyCallRelease (1),655 mo-lr (2),656 ...,657 deferredmt-lrResponse (3) ,658 deferredmo-lrTTTPInitiation (4),659 emergencyCallHandover (5) }660 -- deferredmt-lrResponse is applicable to the delivery of a location estimate661 -- for an LDR initiated earlier by either the network (via an MT-LR activate deferred662 -- location) or the UE (via a deferred MO-LR TTTP initiation)663 -- exception handling:664 -- a SubscriberLocationReport-Arg containing an unrecognized LCS-Event665 -- shall be rejected by a receiver with a return error cause of unexpected data value666
667 TerminationCause ::= ENUMERATED {668 normal (0),669 errorundefined (1),670 internalTimeout (2),671 congestion (3),672 mt-lrRestart (4),673 privacyViolation (5),674 ...,675 shapeOfLocationEstimateNotSupported (6) ,676 subscriberTermination (7),677 uETermination (8),678 networkTermination (9) }679 -- mt-lrRestart shall be used to trigger the GMLC to restart the location procedure,680 -- either because the sending node knows that the terminal has moved under coverage681 -- of another MSC or SGSN (e.g. Send Identification received), or because the subscriber682 -- has been deregistered due to a Cancel Location received from HLR.683 --684 -- exception handling685 -- an unrecognized value shall be treated the same as value 1 (errorundefined)686
687
SequenceNumber ::= INTEGER (1..maxReportingAmount)688
689 ServingNodeAddress ::= CHOICE {690 msc-Number [0] ISDN-AddressString,691 sgsn-Number [1] ISDN-AddressString,692 mme-Number [2] DiameterIdentity }693
694 SubscriberLocationReport-Res ::= SEQUENCE {695 extensionContainer ExtensionContainer OPTIONAL,696 ...,697 na-ESRK [0] ISDN-AddressString OPTIONAL,698 na-ESRD [1] ISDN-AddressString OPTIONAL,699 h-gmlc-Address [2] GSN-Address OPTIONAL,700 mo-lrShortCircuitIndicator [3] NULL OPTIONAL,701 reportingPLMNList [4] ReportingPLMNList OPTIONAL,702 lcs-ReferenceNumber [5] LCS-ReferenceNumber OPTIONAL }703
704 -- na-ESRK and na-ESRD are mutually exclusive705 --706 -- exception handling707 -- receipt of both na-ESRK and na-ESRD shall be treated the same as a return error708
709
710 END711
